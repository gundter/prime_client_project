/*! primedesk 2015-06-23*/
App.controller("registerController",["$scope","$http","$location","$window",function(a,b,c,d){a.newUser={},a.waitMsg=!1,a.createUser=function(e){a.waitMsg=!0,b.post("/users/create",e).success(function(f,g,h,i){console.log("User Created ",g),b.post("/",{email:e.email,password:e.password}).then(function(b,e){console.log("User is logged in",e),a.newUser={},d.location.reload(c.path("/home"))})})}}]).directive("pwCheck",function(){return{require:"ngModel",link:function(a,b,c,d){var e=angular.element(document.getElementById(c.pwCheck));b.on("keyup",function(){console.log("Retype password: ",b.val()),a.$apply(function(){console.log("first password: ",e.val()),console.log(b.val()===e.val()),d.$setValidity("pwMatch",b.val()===e.val())})})}}});
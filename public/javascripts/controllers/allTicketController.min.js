/*! primedesk 2015-06-24*/
App.controller("allTicketController",["$scope","$http",function(a,b){a.tickets=[],a.allTickets=[],a.archivedTickets=[],a.closedTickets=[],a.ticket={},a.users=[],a.userInfo={},b.get("/users/admin").success(function(b){console.log("All tickets page User response: ",b),a.admin=b}),a.getTickets=function(){b.get("/ticket/getTickets").then(function(b){console.log("All Tickets",b);for(var c=0;c<b.data;c++)a.allTickets.push(b.data[c]),"tktClosed"==b.data[c].tktStatus?a.closedTickets.push(b.data[c]):"tktArchived"==b.data[c].tktStatus&&a.archivedTickets.push(b.data[c])})},a.viewtkt=function(b){console.log("viewtkt happens"),1==b?(a.tickets=a.allTickets,console.log("alltickets: ",a.allTickets)):2==b?(a.tickets=a.closedTickets,console.log("alltickets: ",a.closedTickets)):3==b&&(a.tickets=a.archivedTickets,console.log("alltickets: ",a.archivedTickets))},a.viewtkt(1),a.ticketClass=function(c,d){return console.log("Ticket: ",c),console.log("Ticket Status: ",d),a.chgTktSts={tktStatus:d,_id:c._id},b.put("/ticket/updateStatus/",a.chgTktSts).success(a.getTickets)},a.getTickets()}]);